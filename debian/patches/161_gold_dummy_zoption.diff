# DP: let gold accept a dummy -z buildd-<random-string> option.

Index: b/gold/options.h
===================================================================
--- a/gold/options.h
+++ b/gold/options.h
@@ -1321,6 +1321,9 @@
   DEFINE_bool_alias(textoff, text, options::DASH_Z, '\0',
 		    N_("Permit relocations in read-only segments (default)"),
 		    NULL, true);
+  DEFINE_bool(buildd, options::DASH_Z, '\0', false,
+	      N_("Dummy z option"),
+	      NULL);
 
  public:
   typedef options::Dir_list Dir_list;
Index: b/gold/options.cc
===================================================================
--- a/gold/options.cc
+++ b/gold/options.cc
@@ -897,6 +897,8 @@
     {
       int dummy_i = 0;
       const char* dash_z_arg = *arg;
+      if (strncmp(dash_z_arg, "buildd", strlen("buildd")) == 0)
+	  *arg = "buildd";
       retval = parse_long_option(1, arg, true, arg, &dummy_i);
       if (retval == NULL)
 	usage(_("unknown -z option"), dash_z_arg);
